{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "type": "object",
      "description": "Represents a user's profile, containing common information for both athletes and trainers.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user profile, typically the same as the Auth UID."
        },
        "name": {
          "type": "string",
          "description": "User's full name."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "role": {
          "type": "string",
          "description": "The role of the user within the application.",
          "enum": [
            "athlete",
            "trainer",
            "admin"
          ]
        },
        "location": {
          "type": "string",
          "description": "User's location, e.g., city or region."
        },
        "socialLinks": {
          "type": "object",
          "description": "An object containing links to the user's social media profiles.",
          "properties": {
            "instagram": {
              "type": "string",
              "format": "uri"
            },
            "facebook": {
              "type": "string",
              "format": "uri"
            },
            "twitter": {
              "type": "string",
              "format": "uri"
            }
          }
        },
        "favoriteGymIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of IDs of the user's favorite gyms."
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "role"
      ]
    },
    "Article": {
      "title": "Article",
      "type": "object",
      "description": "Represents an article in the knowledge zone.",
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "content": {
          "type": "string"
        },
        "category": {
          "type": "string"
        },
        "authorId": {
          "type": "string"
        },
        "authorName": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "enum": [
            "published",
            "draft"
          ]
        },
        "coverImageUrl": {
          "type": "string",
          "format": "uri"
        },
        "imageHint": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "title",
        "content",
        "authorId",
        "authorName",
        "createdAt",
        "status",
        "category"
      ]
    },
    "ArticleCategory": {
      "title": "Article Category",
      "type": "object",
      "description": "A category for articles in the knowledge zone.",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "AthleteProfile": {
      "title": "Athlete Profile",
      "type": "object",
      "description": "Represents the specific profile of an athlete, extending the base UserProfile.",
      "allOf": [
        {
          "$ref": "#/entities/UserProfile"
        }
      ],
      "properties": {
        "trainerId": {
          "type": "string",
          "description": "The ID of the trainer assigned to this athlete. (Relationship: Trainer 1:N Athlete)"
        },
        "dateOfBirth": {
          "type": "string",
          "description": "Athlete's date of birth.",
          "format": "date"
        },
        "weight": {
          "type": "number",
          "description": "Athlete's current weight in kilograms."
        },
        "height": {
          "type": "number",
          "description": "Athlete's height in centimeters."
        }
      }
    },
    "TrainerProfile": {
      "title": "Trainer Profile",
      "type": "object",
      "description": "Represents the specific profile of a trainer, extending the base UserProfile.",
      "allOf": [
        {
          "$ref": "#/entities/UserProfile"
        }
      ],
      "properties": {
        "bio": {
          "type": "string",
          "description": "A short biography or professional summary for the trainer."
        },
        "specializations": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of the trainer's specializations (e.g., Strength Training, Yoga, Cardio)."
        }
      }
    },
    "WorkoutPlan": {
      "title": "Workout Plan",
      "type": "object",
      "description": "A workout plan created by a trainer, which can be assigned to athletes.",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "trainerId": {
          "type": "string"
        },
        "assignedAthleteIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "workoutDays": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "dayName": {
                "type": "string"
              },
              "exercises": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "exerciseId": {
                      "type": "string"
                    },
                    "sets": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "reps": {
                            "type": "number"
                          },
                          "weight": {
                            "type": "number"
                          }
                        }
                      }
                    },
                    "duration": {
                      "type": "number",
                      "description": "Duration in seconds for time-based exercises."
                    }
                  }
                }
              }
            }
          }
        }
      },
      "required": [
        "id",
        "name",
        "trainerId",
        "workoutDays"
      ]
    },
    "WorkoutSession": {
      "title": "Workout Session",
      "type": "object",
      "description": "A record of a completed workout session by an athlete.",
      "properties": {
        "id": {
          "type": "string"
        },
        "athleteId": {
          "type": "string"
        },
        "workoutName": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "duration": {
          "type": "number",
          "description": "Total duration in minutes."
        },
        "notes": {
          "type": "string"
        },
        "feedback": {
          "type": "string"
        },
        "photoURL": {
          "type": "string",
          "format": "uri"
        },
        "exercises": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "exerciseId": {
                "type": "string"
              },
              "sets": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "reps": {
                      "type": "number"
                    },
                    "weight": {
                      "type": "number"
                    }
                  }
                }
              },
              "duration": {
                "type": "number",
                "description": "Actual duration in seconds."
              }
            }
          }
        }
      },
      "required": [
        "id",
        "athleteId",
        "date",
        "workoutName",
        "exercises"
      ]
    },
    "Exercise": {
      "title": "Exercise",
      "type": "object",
      "description": "A specific exercise that can be included in a workout plan or session.",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "muscleGroup": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "image": {
          "type": "string",
          "format": "uri"
        },
        "imageHint": {
          "type": "string"
        },
        "ownerId": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "weight",
            "duration",
            "reps"
          ],
          "description": "Type of exercise: weight-based (sets/reps), duration-based (time), or reps-only."
        }
      },
      "required": [
        "id",
        "name",
        "muscleGroup",
        "ownerId",
        "type"
      ]
    },
    "Goal": {
      "title": "Goal",
      "type": "object",
      "description": "A fitness goal set by a user.",
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "target": {
          "type": "number"
        },
        "current": {
          "type": "number"
        },
        "unit": {
          "type": "string"
        },
        "deadline": {
          "type": "string",
          "format": "date-time"
        },
        "ownerId": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "title",
        "target",
        "current",
        "unit",
        "ownerId"
      ]
    },
    "PlannedWorkout": {
      "title": "Planned Workout",
      "type": "object",
      "description": "A workout that is scheduled in the user's calendar.",
      "properties": {
        "id": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "workoutName": {
          "type": "string"
        },
        "exercises": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "sets": {
                "type": "string"
              },
              "reps": {
                "type": "string"
              },
              "rest": {
                "type": "string"
              },
              "duration": {
                "type": "string"
              }
            }
          }
        },
        "ownerId": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "date",
        "workoutName",
        "ownerId"
      ]
    },
    "MuscleGroup": {
      "title": "Muscle Group",
      "type": "object",
      "description": "A category for exercises, managed by administrators.",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "imageUrl": {
          "type": "string",
          "format": "uri"
        },
        "imageHint": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "Achievement": {
      "title": "Achievement",
      "type": "object",
      "description": "A user's personal achievement, like participating in a competition.",
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "photoURLs": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "A list of URLs to photos of the achievement."
        },
        "ownerId": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "title",
        "date",
        "ownerId"
      ]
    },
    "RunningSession": {
      "title": "Running Session",
      "type": "object",
      "description": "A record of a completed running session.",
      "properties": {
        "id": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "distance": {
          "type": "number"
        },
        "duration": {
          "type": "number"
        },
        "avgPace": {
          "type": "number"
        },
        "notes": {
          "type": "string"
        },
        "ownerId": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "date",
        "distance",
        "duration",
        "avgPace",
        "ownerId"
      ]
    },
    "FoodItem": {
      "title": "Food Item",
      "type": "object",
      "description": "Represents a single food item with its nutritional information.",
      "properties": {
        "name": {
          "type": "string"
        },
        "calories": {
          "type": "number"
        },
        "protein": {
          "type": "number"
        },
        "carbs": {
          "type": "number"
        },
        "fat": {
          "type": "number"
        }
      },
      "required": [
        "name",
        "calories",
        "protein",
        "carbs",
        "fat"
      ]
    },
    "Meal": {
      "title": "Meal",
      "type": "object",
      "description": "Represents a meal (e.g., breakfast, lunch) which consists of multiple food items.",
      "properties": {
        "id": {
          "type": "string"
        },
        "ownerId": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date"
        },
        "type": {
          "type": "string",
          "enum": [
            "Breakfast",
            "Lunch",
            "Dinner",
            "Snack"
          ]
        },
        "foodItems": {
          "type": "array",
          "items": {
            "$ref": "#/entities/FoodItem"
          }
        }
      },
      "required": [
        "id",
        "ownerId",
        "date",
        "type",
        "foodItems"
      ]
    },
    "TrainerRequest": {
      "title": "Trainer Request",
      "description": "A request from an athlete to a trainer for collaboration.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "athleteId": {
          "type": "string"
        },
        "athleteName": {
          "type": "string"
        },
        "trainerId": {
          "type": "string"
        },
        "status": {
          "type": "string",
          "enum": [
            "pending",
            "accepted",
            "rejected"
          ]
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "athleteId",
        "athleteName",
        "trainerId",
        "status",
        "createdAt"
      ]
    },
    "BodyMeasurement": {
      "title": "Body Measurement",
      "description": "A record of a user's body measurements at a specific point in time.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "ownerId": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "weight": {
          "type": "number"
        },
        "circumferences": {
          "type": "object",
          "properties": {
            "biceps": {
              "type": "number"
            },
            "chest": {
              "type": "number"
            },
            "waist": {
              "type": "number"
            },
            "hips": {
              "type": "number"
            },
            "thigh": {
              "type": "number"
            }
          }
        },
        "photoURLs": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "A list of URLs to photos of the measurement."
        },
        "sharedWithTrainer": {
          "type": "boolean",
          "default": false
        }
      },
      "required": [
        "id",
        "ownerId",
        "date",
        "weight"
      ]
    },
    "Gym": {
      "title": "Gym",
      "description": "Represents a gym location.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "address": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "name",
        "address"
      ]
    },
    "Conversation": {
      "title": "Conversation",
      "description": "Represents a chat conversation between two or more users.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "participants": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "trainerId": {
          "type": "string"
        },
        "athleteId": {
          "type": "string"
        },
        "trainerName": {
          "type": "string"
        },
        "athleteName": {
          "type": "string"
        },
        "lastMessage": {
          "type": "object",
          "properties": {
            "text": {
              "type": "string"
            },
            "senderId": {
              "type": "string"
            },
            "createdAt": {
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "unreadCount": {
          "type": "object",
          "additionalProperties": {
            "type": "number"
          }
        }
      },
      "required": [
        "id",
        "participants",
        "updatedAt",
        "trainerId",
        "athleteId",
        "trainerName",
        "athleteName"
      ]
    },
    "Message": {
      "title": "Message",
      "description": "Represents a single message within a conversation.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "conversationId": {
          "type": "string"
        },
        "senderId": {
          "type": "string"
        },
        "text": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "conversationId",
        "senderId",
        "text",
        "createdAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores the public-facing profile for all users (both athletes and trainers)."
    },
    "/articles/{articleId}": {
      "schema": {
        "$ref": "#/entities/Article"
      },
      "description": "Stores articles for the knowledge zone."
    },
    "/articleCategories/{categoryId}": {
      "schema": {
        "$ref": "#/entities/ArticleCategory"
      },
      "description": "Stores categories for the knowledge zone articles."
    },
    "/trainers/{trainerId}/athletes/{athleteId}": {
      "schema": {
        "$ref": "#/entities/AthleteProfile"
      },
      "description": "A subcollection listing the athletes managed by a specific trainer."
    },
    "/workoutPlans/{planId}": {
      "schema": {
        "$ref": "#/entities/WorkoutPlan"
      },
      "description": "A global collection of workout plans created by trainers and athletes."
    },
    "/users/{userId}/workoutSessions/{sessionId}": {
      "schema": {
        "$ref": "#/entities/WorkoutSession"
      },
      "description": "Stores all workout sessions for a specific user."
    },
    "/users/{userId}/runningSessions/{sessionId}": {
      "schema": {
        "$ref": "#/entities/RunningSession"
      },
      "description": "Stores all running sessions for a specific user."
    },
    "/users/{userId}/goals/{goalId}": {
      "schema": {
        "$ref": "#/entities/Goal"
      },
      "description": "Stores the fitness goals for a specific user."
    },
    "/users/{userId}/plannedWorkouts/{plannedWorkoutId}": {
      "schema": {
        "$ref": "#/entities/PlannedWorkout"
      },
      "description": "Stores workouts that have been scheduled in a user's calendar."
    },
    "/users/{userId}/achievements/{achievementId}": {
      "schema": {
        "$ref": "#/entities/Achievement"
      },
      "description": "Stores the personal achievements for a specific user."
    },
    "/users/{userId}/meals/{mealId}": {
      "schema": {
        "$ref": "#/entities/Meal"
      },
      "description": "Stores the meals logged by a specific user."
    },
    "/users/{userId}/trainerRequests/{requestId}": {
      "schema": {
        "$ref": "#/entities/TrainerRequest"
      },
      "description": "Stores training requests sent or received by a user."
    },
    "/users/{userId}/bodyMeasurements/{measurementId}": {
      "schema": {
        "$ref": "#/entities/BodyMeasurement"
      },
      "description": "Stores a history of the user's body measurements."
    },
    "/users/{userId}/conversations/{conversationId}": {
      "schema": {
        "$ref": "#/entities/Conversation"
      },
      "description": "Stores metadata for a chat conversation a user is a part of."
    },
    "/exercises/{exerciseId}": {
      "schema": {
        "$ref": "#/entities/Exercise"
      },
      "description": "A global collection of exercises."
    },
    "/muscleGroups/{muscleGroupId}": {
      "schema": {
        "$ref": "#/entities/MuscleGroup"
      },
      "description": "A global collection of muscle groups, managed by administrators."
    },
    "/gyms/{gymId}": {
      "schema": {
        "$ref": "#/entities/Gym"
      },
      "description": "A global collection of gyms managed by administrators."
    },
    "/conversations/{conversationId}": {
      "schema": {
        "$ref": "#/entities/Conversation"
      },
      "description": "Stores metadata for a chat conversation between users."
    },
    "/conversations/{conversationId}/messages/{messageId}": {
      "schema": {
        "$ref": "#/entities/Message"
      },
      "description": "Stores all messages within a specific conversation."
    }
  }
}